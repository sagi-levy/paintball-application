{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\sagil\\\\OneDrive\\\\\\u05DE\\u05E1\\u05DE\\u05DB\\u05D9\\u05DD\\\\paintball-application\\\\paintball-application\\\\fronted\\\\paintball-app\\\\src\\\\components\\\\signIn.jsx\",\n  _s = $RefreshSig$();\nimport { useFormik } from \"formik\";\nimport { useEffect, useState } from \"react\";\nimport { useNavigate } from \"react-router-dom\";\nimport PageHeader from \"./common/pageHeader\";\nimport Input from \"../components/common/input\";\nimport { useAuth } from \"../context/auth.context\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst SignIn = () => {\n  _s();\n  const [errorApiRequest, setErrorApiRequest] = useState(\"\");\n  const {\n    logIn,\n    user\n  } = useAuth();\n  const navigate = useNavigate();\n  const form = useFormik({\n    initialValues: {\n      phoneNumber: \"\",\n      password: \"\"\n    },\n    validate(values) {\n      const errors = {};\n      if (values.phoneNumber === \"\") {\n        errors.phoneNumber = \"phoneNumber cant be empty\";\n      } else if (values.phoneNumber.length < 3) {\n        errors.phoneNumber = \"phoneNumber cant less then 2 chars\";\n      }\n      if (values.password === \"\") {\n        errors.password = \"dani\";\n      }\n      return errors;\n    },\n    async onSubmit(values) {\n      try {\n        await logIn(values);\n        console.log(user); // user shown after refresh, supposed to be render, don't know why not\n\n        navigate(\"/about\");\n      } catch ({\n        response\n      }) {\n        if (response && response.status === 400) {\n          setErrorApiRequest(response.data);\n        }\n      }\n    }\n  });\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [/*#__PURE__*/_jsxDEV(PageHeader, {\n      title: /*#__PURE__*/_jsxDEV(\"h1\", {\n        children: \"Sign in page\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 43,\n        columnNumber: 26\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 43,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n      children: \"sign in to enter\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 44,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n      onSubmit: form.handleSubmit,\n      children: [errorApiRequest && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"alert alert-danger\",\n        children: errorApiRequest\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 47,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(Input, {\n        ...form.getFieldProps(\"email\"),\n        error: form.errors.email,\n        name: \"email\",\n        type: \"email\",\n        id: \"email\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 49,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Input, {\n        ...form.getFieldProps(\"password\"),\n        name: \"password\",\n        type: \"password\",\n        id: \"password\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 56,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        type: \"submit\",\n        className: \"btn btn-primary\",\n        children: \"submit\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 62,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 45,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true);\n};\n_s(SignIn, \"xqkeR+9LuSH7Igm9LjKmkDzLKvk=\", false, function () {\n  return [useAuth, useNavigate, useFormik];\n});\n_c = SignIn;\nexport default SignIn;\nvar _c;\n$RefreshReg$(_c, \"SignIn\");","map":{"version":3,"names":["useFormik","useEffect","useState","useNavigate","PageHeader","Input","useAuth","SignIn","errorApiRequest","setErrorApiRequest","logIn","user","navigate","form","initialValues","phoneNumber","password","validate","values","errors","length","onSubmit","console","log","response","status","data","handleSubmit","getFieldProps","email"],"sources":["C:/Users/sagil/OneDrive/מסמכים/paintball-application/paintball-application/fronted/paintball-app/src/components/signIn.jsx"],"sourcesContent":["import { useFormik } from \"formik\";\r\nimport { useEffect, useState } from \"react\";\r\nimport { useNavigate } from \"react-router-dom\";\r\nimport PageHeader from \"./common/pageHeader\";\r\nimport Input from \"../components/common/input\";\r\nimport { useAuth } from \"../context/auth.context\";\r\n\r\nconst SignIn = () => {\r\n  const [errorApiRequest, setErrorApiRequest] = useState(\"\");\r\n  const { logIn, user } = useAuth();\r\n\r\n  const navigate = useNavigate();\r\n  const form = useFormik({\r\n    initialValues: { phoneNumber: \"\", password: \"\" },\r\n    validate(values) {\r\n      const errors = {};\r\n      if (values.phoneNumber === \"\") {\r\n        errors.phoneNumber = \"phoneNumber cant be empty\";\r\n      }  else if (values.phoneNumber.length < 3) {\r\n        errors.phoneNumber = \"phoneNumber cant less then 2 chars\";\r\n      }\r\n      if (values.password === \"\") {\r\n        errors.password = \"dani\";\r\n      }\r\n      return errors;\r\n    },\r\n    async onSubmit(values) {\r\n      try {\r\n        await logIn(values);\r\n        console.log(user); // user shown after refresh, supposed to be render, don't know why not\r\n\r\n        navigate(\"/about\");\r\n      } catch ({ response }) {\r\n        if (response && response.status === 400) {\r\n          setErrorApiRequest(response.data);\r\n        }\r\n      }\r\n    },\r\n  });\r\n\r\n  return (\r\n    <>\r\n      <PageHeader title={<h1>Sign in page</h1>} />\r\n      <p>sign in to enter</p>\r\n      <form onSubmit={form.handleSubmit}>\r\n        {errorApiRequest && (\r\n          <div className=\"alert alert-danger\">{errorApiRequest}</div>\r\n        )}\r\n        <Input\r\n          {...form.getFieldProps(\"email\")}\r\n          error={form.errors.email}\r\n          name=\"email\"\r\n          type=\"email\"\r\n          id=\"email\"\r\n        />\r\n        <Input\r\n          {...form.getFieldProps(\"password\")}\r\n          name=\"password\"\r\n          type=\"password\"\r\n          id=\"password\"\r\n        />\r\n        <button type=\"submit\" className=\"btn btn-primary\">\r\n          submit\r\n        </button>\r\n      </form>\r\n    </>\r\n  );\r\n};\r\nexport default SignIn;\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}