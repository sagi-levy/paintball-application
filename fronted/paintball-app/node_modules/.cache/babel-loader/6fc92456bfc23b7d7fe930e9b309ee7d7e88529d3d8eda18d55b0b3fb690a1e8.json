{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\sagil\\\\OneDrive\\\\\\u05DE\\u05E1\\u05DE\\u05DB\\u05D9\\u05DD\\\\paintball-application\\\\paintball-application\\\\fronted\\\\paintball-app\\\\src\\\\components\\\\signIn.jsx\",\n  _s = $RefreshSig$();\nimport { useFormik } from \"formik\";\nimport { useEffect, useState } from \"react\";\nimport { useNavigate } from \"react-router-dom\";\nimport PageHeader from \"./common/pageHeader\";\nimport Input from \"../components/common/input\";\nimport { useAuth } from \"../context/auth.context\";\nimport { Link } from \"react-router-dom\";\nimport { toast } from \"react-toastify\";\nimport \"react-toastify/dist/ReactToastify.css\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst SignIn = () => {\n  _s();\n  const [errorApiRequest, setErrorApiRequest] = useState(\"\");\n  const {\n    logIn,\n    user\n  } = useAuth();\n  const navigate = useNavigate();\n  const form = useFormik({\n    initialValues: {\n      phoneNumber: \"\",\n      password: \"\"\n    },\n    validate(values) {\n      const errors = {};\n      if (values.phoneNumber === \"\") {\n        errors.phoneNumber = \"phoneNumber cant be empty\";\n      } else if (values.phoneNumber.length < 3) {\n        errors.phoneNumber = \"phoneNumber cant less then 2 chars\";\n      }\n      if (values.password === \"\") {\n        errors.password = \"wrong\";\n      }\n      return errors;\n    },\n    async onSubmit(values) {\n      try {\n        await logIn(values);\n        console.log(user); // user shown after refresh, supposed to be render, don't know why not\n        console.log(values); // user shown after refresh, supposed to be render, don't know why not\n        toast.success(`welcome`, {\n          autoClose: 2000,\n          style: {\n            background: \"black\",\n            color: \"white\",\n            borderRadius: \"8px\",\n            boxShadow: \"0 0 10px rgba(0, 0, 0, 0.5)\"\n          }\n        });\n        navigate(\"/about\");\n      } catch ({\n        response\n      }) {\n        if (response && response.status === 400) {\n          setErrorApiRequest(response.data);\n        }\n      }\n    }\n  });\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [/*#__PURE__*/_jsxDEV(PageHeader, {\n      title: /*#__PURE__*/_jsxDEV(\"h1\", {\n        className: \"pt-5\",\n        children: \"Sign in page\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 56,\n        columnNumber: 26\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 56,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n      children: \"sign in to enter\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 57,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n      className: \"mb-4\",\n      onSubmit: form.handleSubmit,\n      children: [errorApiRequest && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"alert alert-danger\",\n        children: errorApiRequest\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 60,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(Input, {\n        ...form.getFieldProps(\"phoneNumber\"),\n        error: form.errors.phoneNumber,\n        name: \"phoneNumber\",\n        type: \"phoneNumber\",\n        id: \"phoneNumber\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 62,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Input, {\n        ...form.getFieldProps(\"password\"),\n        error: form.errors.password,\n        name: \"password\",\n        type: \"password\",\n        id: \"password\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 70,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        type: \"submit\",\n        className: \"btn btn-primary\",\n        children: \"submit\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 78,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 58,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Link, {\n      style: {\n        color: \"black\",\n        fontFamily: \"cursive\",\n        justifyContent: \"center\"\n      },\n      to: \"/reset-password\",\n      children: \"forgot password?\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 83,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true);\n};\n_s(SignIn, \"xqkeR+9LuSH7Igm9LjKmkDzLKvk=\", false, function () {\n  return [useAuth, useNavigate, useFormik];\n});\n_c = SignIn;\nexport default SignIn;\nvar _c;\n$RefreshReg$(_c, \"SignIn\");","map":{"version":3,"names":["useFormik","useEffect","useState","useNavigate","PageHeader","Input","useAuth","Link","toast","SignIn","errorApiRequest","setErrorApiRequest","logIn","user","navigate","form","initialValues","phoneNumber","password","validate","values","errors","length","onSubmit","console","log","success","autoClose","style","background","color","borderRadius","boxShadow","response","status","data","handleSubmit","getFieldProps","fontFamily","justifyContent"],"sources":["C:/Users/sagil/OneDrive/מסמכים/paintball-application/paintball-application/fronted/paintball-app/src/components/signIn.jsx"],"sourcesContent":["import { useFormik } from \"formik\";\r\nimport { useEffect, useState } from \"react\";\r\nimport { useNavigate } from \"react-router-dom\";\r\nimport PageHeader from \"./common/pageHeader\";\r\nimport Input from \"../components/common/input\";\r\nimport { useAuth } from \"../context/auth.context\";\r\nimport { Link } from \"react-router-dom\";\r\nimport { toast } from \"react-toastify\";\r\nimport \"react-toastify/dist/ReactToastify.css\";\r\n\r\nconst SignIn = () => {\r\n  const [errorApiRequest, setErrorApiRequest] = useState(\"\");\r\n  const { logIn, user } = useAuth();\r\n  const navigate = useNavigate();\r\n\r\n  const form = useFormik({\r\n    initialValues: { phoneNumber: \"\", password: \"\" },\r\n    validate(values) {\r\n      const errors = {};\r\n      if (values.phoneNumber === \"\") {\r\n        errors.phoneNumber = \"phoneNumber cant be empty\";\r\n      } else if (values.phoneNumber.length < 3) {\r\n        errors.phoneNumber = \"phoneNumber cant less then 2 chars\";\r\n      }\r\n      if (values.password === \"\") {\r\n        errors.password = \"wrong\";\r\n      }\r\n      return errors;\r\n    },\r\n    async onSubmit(values) {\r\n      try {\r\n        await logIn(values);\r\n        console.log(user); // user shown after refresh, supposed to be render, don't know why not\r\n        console.log(values); // user shown after refresh, supposed to be render, don't know why not\r\n        toast.success(`welcome`, {\r\n          autoClose: 2000,\r\n          style: {\r\n            background: \"black\",\r\n            color: \"white\",\r\n            borderRadius: \"8px\",\r\n            boxShadow: \"0 0 10px rgba(0, 0, 0, 0.5)\",\r\n          },\r\n        });\r\n\r\n        navigate(\"/about\");\r\n      } catch ({ response }) {\r\n        if (response && response.status === 400) {\r\n          setErrorApiRequest(response.data);\r\n        }\r\n      }\r\n    },\r\n  });\r\n\r\n  return (\r\n    <>\r\n      <PageHeader title={<h1 className=\"pt-5\">Sign in page</h1>} />\r\n      <p>sign in to enter</p>\r\n      <form className=\"mb-4\" onSubmit={form.handleSubmit}>\r\n        {errorApiRequest && (\r\n          <div className=\"alert alert-danger\">{errorApiRequest}</div>\r\n        )}\r\n        <Input\r\n          {...form.getFieldProps(\"phoneNumber\")}\r\n          error={form.errors.phoneNumber}\r\n          name=\"phoneNumber\"\r\n          type=\"phoneNumber\"\r\n          id=\"phoneNumber\"\r\n        />\r\n\r\n        <Input\r\n          {...form.getFieldProps(\"password\")}\r\n          error={form.errors.password}\r\n          name=\"password\"\r\n          type=\"password\"\r\n          id=\"password\"\r\n        />\r\n\r\n        <button type=\"submit\" className=\"btn btn-primary\">\r\n          submit\r\n        </button>\r\n      </form>\r\n\r\n      <Link\r\n        style={{\r\n          color: \"black\",\r\n          fontFamily: \"cursive\",\r\n          justifyContent: \"center\",\r\n        }}\r\n        to={\"/reset-password\"}\r\n      >\r\n        forgot password?\r\n      </Link>\r\n    </>\r\n  );\r\n};\r\nexport default SignIn;\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}