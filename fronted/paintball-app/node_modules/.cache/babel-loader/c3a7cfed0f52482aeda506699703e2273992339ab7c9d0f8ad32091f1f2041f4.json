{"ast":null,"code":"import httpRequestDetails, { setCommonHeader } from \"./basicIrlAxios\";\nimport jwtDecode from \"jwt-decode\";\nconst TOKEN_KEY = \"token\";\nsetTokenHeader();\nfunction getJwt() {\n  return localStorage.getItem(TOKEN_KEY);\n}\nexport function setTokenHeader() {\n  setCommonHeader(\"x-auth-token\", getJwt());\n}\nexport const createUser = function (user) {\n  return httpRequestDetails.post(\"/users\", user);\n};\nexport const logINUser = async function (credentials) {\n  const {\n    data\n  } = await httpRequestDetails.post(\"/auth\", credentials);\n  localStorage.setItem(TOKEN_KEY, data.token);\n  setTokenHeader();\n};\nexport function logOut() {\n  localStorage.removeItem(TOKEN_KEY);\n  setTokenHeader();\n}\nexport function getUser() {\n  try {\n    const token = getJwt();\n    console.log(\"token:   \", token);\n    return jwtDecode(token);\n  } catch {\n    return null;\n  }\n}\nexport const changeUserPassword = function (id, password) {\n  return httpRequestDetails.put(`/users/change-password/${id}`, password);\n};\nconst userServices = {\n  createUser,\n  logINUser,\n  logOut,\n  getJwt,\n  changeUserPassword\n};\nexport default userServices;","map":{"version":3,"names":["httpRequestDetails","setCommonHeader","jwtDecode","TOKEN_KEY","setTokenHeader","getJwt","localStorage","getItem","createUser","user","post","logINUser","credentials","data","setItem","token","logOut","removeItem","getUser","console","log","changeUserPassword","id","password","put","userServices"],"sources":["C:/Users/sagil/OneDrive/מסמכים/paintball-application/paintball-application/fronted/paintball-app/src/services/userApiServices.js"],"sourcesContent":["import httpRequestDetails, { setCommonHeader } from \"./basicIrlAxios\";\r\nimport jwtDecode from \"jwt-decode\";\r\nconst TOKEN_KEY = \"token\";\r\nsetTokenHeader();\r\nfunction getJwt() {\r\n  return localStorage.getItem(TOKEN_KEY);\r\n}\r\n\r\nexport function setTokenHeader() {\r\n  setCommonHeader(\"x-auth-token\", getJwt());\r\n}\r\nexport const createUser = function (user) {\r\n  return httpRequestDetails.post(\"/users\", user);\r\n};\r\nexport const logINUser = async function (credentials) {\r\n  const { data } = await httpRequestDetails.post(\"/auth\", credentials);\r\n  localStorage.setItem(TOKEN_KEY, data.token);\r\n  setTokenHeader();\r\n};\r\nexport function logOut() {\r\n  localStorage.removeItem(TOKEN_KEY);\r\n  setTokenHeader();\r\n}\r\nexport function getUser() {\r\n  try {\r\n    const token = getJwt();\r\n    console.log(\"token:   \", token);\r\n    return jwtDecode(token);\r\n  } catch {\r\n    return null;\r\n  }\r\n}\r\nexport const changeUserPassword = function (id, password) {\r\n  return httpRequestDetails.put(`/users/change-password/${id}`, password);\r\n};\r\n\r\nconst userServices = {\r\n  createUser,\r\n  logINUser,\r\n  logOut,\r\n  getJwt,\r\n  changeUserPassword,\r\n};\r\nexport default userServices;\r\n"],"mappings":"AAAA,OAAOA,kBAAkB,IAAIC,eAAe,QAAQ,iBAAiB;AACrE,OAAOC,SAAS,MAAM,YAAY;AAClC,MAAMC,SAAS,GAAG,OAAO;AACzBC,cAAc,EAAE;AAChB,SAASC,MAAM,GAAG;EAChB,OAAOC,YAAY,CAACC,OAAO,CAACJ,SAAS,CAAC;AACxC;AAEA,OAAO,SAASC,cAAc,GAAG;EAC/BH,eAAe,CAAC,cAAc,EAAEI,MAAM,EAAE,CAAC;AAC3C;AACA,OAAO,MAAMG,UAAU,GAAG,UAAUC,IAAI,EAAE;EACxC,OAAOT,kBAAkB,CAACU,IAAI,CAAC,QAAQ,EAAED,IAAI,CAAC;AAChD,CAAC;AACD,OAAO,MAAME,SAAS,GAAG,gBAAgBC,WAAW,EAAE;EACpD,MAAM;IAAEC;EAAK,CAAC,GAAG,MAAMb,kBAAkB,CAACU,IAAI,CAAC,OAAO,EAAEE,WAAW,CAAC;EACpEN,YAAY,CAACQ,OAAO,CAACX,SAAS,EAAEU,IAAI,CAACE,KAAK,CAAC;EAC3CX,cAAc,EAAE;AAClB,CAAC;AACD,OAAO,SAASY,MAAM,GAAG;EACvBV,YAAY,CAACW,UAAU,CAACd,SAAS,CAAC;EAClCC,cAAc,EAAE;AAClB;AACA,OAAO,SAASc,OAAO,GAAG;EACxB,IAAI;IACF,MAAMH,KAAK,GAAGV,MAAM,EAAE;IACtBc,OAAO,CAACC,GAAG,CAAC,WAAW,EAAEL,KAAK,CAAC;IAC/B,OAAOb,SAAS,CAACa,KAAK,CAAC;EACzB,CAAC,CAAC,MAAM;IACN,OAAO,IAAI;EACb;AACF;AACA,OAAO,MAAMM,kBAAkB,GAAG,UAAUC,EAAE,EAAEC,QAAQ,EAAE;EACxD,OAAOvB,kBAAkB,CAACwB,GAAG,CAAE,0BAAyBF,EAAG,EAAC,EAAEC,QAAQ,CAAC;AACzE,CAAC;AAED,MAAME,YAAY,GAAG;EACnBjB,UAAU;EACVG,SAAS;EACTK,MAAM;EACNX,MAAM;EACNgB;AACF,CAAC;AACD,eAAeI,YAAY"},"metadata":{},"sourceType":"module","externalDependencies":[]}