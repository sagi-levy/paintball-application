{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\sagil\\\\OneDrive\\\\\\u05DE\\u05E1\\u05DE\\u05DB\\u05D9\\u05DD\\\\paintball-application\\\\paintball-application\\\\fronted\\\\paintball-app\\\\src\\\\components\\\\myActivityCards.jsx\",\n  _s = $RefreshSig$();\nimport PageHeader from \"./common/pageHeader\";\nimport { Link } from \"react-router-dom\";\nimport { useEffect, useState } from \"react\";\nimport { getAll } from \"../services/cardsServices\";\nimport ActivityCardComponent from \"./activityCardComponent\";\nimport { useAuth } from \"../context/auth.context\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst MyActivityCards = () => {\n  _s();\n  const {\n    logIn,\n    user\n  } = useAuth();\n  const [activityCardsList, setActivityCardsList] = useState([]);\n  const [filteredData, setFilteredData] = useState([]);\n  const [isFiltered, setIsFiltered] = useState(false);\n  useEffect(() => {\n    const getActivityCards = async () => {\n      const activityCards = await getAll();\n      setActivityCardsList(activityCards.data.tasks);\n    };\n    getActivityCards();\n  }, []);\n  useEffect(() => {\n    if (isFiltered) {\n      const filteredResults = filteredData.filter(activityCard => activityCard.user_id === user._id);\n      setFilteredData(filteredResults);\n    } else {\n      setActivityCardsList(activityCardsList);\n    }\n  }, [isFiltered]);\n  const [searchValue, setSearchValue] = useState(\"\");\n  const toggleFilter = () => {\n    setIsFiltered(prevState => !prevState);\n  };\n  const handleInputChange = event => {\n    setSearchValue(event.target.value);\n  };\n  useEffect(() => {\n    if (searchValue.length) {\n      const searchedResult = activityCardsList.filter(activityCard => activityCard.bizUserName.toLowerCase().includes(searchValue.toLowerCase()));\n      setActivityCardsList(searchedResult);\n    } else {\n      setActivityCardsList(activityCardsList);\n    }\n  }, [searchValue]);\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [/*#__PURE__*/_jsxDEV(PageHeader, {\n      title: /*#__PURE__*/_jsxDEV(\"h1\", {\n        children: \"my activities cards\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 56,\n        columnNumber: 26\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 56,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"h2\", {\n      children: \"here you can see all your booked paintball activities\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 57,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n      type: \"text\",\n      value: searchValue,\n      onChange: handleInputChange,\n      placeholder: \"Search by name...\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 58,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n      onClick: toggleFilter,\n      className: \"form-check-input m-2\",\n      type: \"checkbox\",\n      value: \"\",\n      id: \"flexCheckChecked\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 64,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n      className: \"form-check-label\",\n      htmlFor: \"flexCheckChecked\",\n      children: \"show only my activities\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 71,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n      className: \"btn btn-danger create-btn\",\n      children: /*#__PURE__*/_jsxDEV(Link, {\n        style: {\n          color: \"blue\",\n          fontFamily: \"cursive\",\n          justifyContent: \"center\"\n        },\n        to: \"/cards/create-activity-card\",\n        children: [\" \", \"create a card\"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 75,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 74,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"container\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"row\",\n        children: [activityCardsList.length ? activityCardsList.map(activityCard => {\n          return /*#__PURE__*/_jsxDEV(ActivityCardComponent, {\n            id: activityCard._id,\n            activityName: activityCard.activityName,\n            activityDescription: activityCard.activityDescription,\n            activityAddress: activityCard.activityAddress,\n            activityDate: activityCard.activityDate,\n            phoneNumber: activityCard.phoneNumber,\n            bizUserName: activityCard.bizUserName,\n            activityImage: activityCard.activityImage,\n            activityTime: activityCard.activityTime,\n            isPaid: activityCard.isPaid,\n            inCalendar: activityCard.inCalendar\n          }, activityCard._id, false, {\n            fileName: _jsxFileName,\n            lineNumber: 92,\n            columnNumber: 17\n          }, this);\n        }) : /*#__PURE__*/_jsxDEV(\"span\", {\n          className: \"m-5\",\n          children: \"loading your cards...\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 109,\n          columnNumber: 13\n        }, this), \" \"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 88,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 87,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true);\n};\n_s(MyActivityCards, \"kdGVNUuLHiIKpKS2Wr5ozU08lfA=\", false, function () {\n  return [useAuth];\n});\n_c = MyActivityCards;\nexport default MyActivityCards;\nvar _c;\n$RefreshReg$(_c, \"MyActivityCards\");","map":{"version":3,"names":["PageHeader","Link","useEffect","useState","getAll","ActivityCardComponent","useAuth","MyActivityCards","logIn","user","activityCardsList","setActivityCardsList","filteredData","setFilteredData","isFiltered","setIsFiltered","getActivityCards","activityCards","data","tasks","filteredResults","filter","activityCard","user_id","_id","searchValue","setSearchValue","toggleFilter","prevState","handleInputChange","event","target","value","length","searchedResult","bizUserName","toLowerCase","includes","color","fontFamily","justifyContent","map","activityName","activityDescription","activityAddress","activityDate","phoneNumber","activityImage","activityTime","isPaid","inCalendar"],"sources":["C:/Users/sagil/OneDrive/מסמכים/paintball-application/paintball-application/fronted/paintball-app/src/components/myActivityCards.jsx"],"sourcesContent":["import PageHeader from \"./common/pageHeader\";\r\nimport { Link } from \"react-router-dom\";\r\nimport { useEffect, useState } from \"react\";\r\nimport { getAll } from \"../services/cardsServices\";\r\nimport ActivityCardComponent from \"./activityCardComponent\";\r\nimport { useAuth } from \"../context/auth.context\";\r\n\r\nconst MyActivityCards = () => {\r\n  const { logIn, user } = useAuth();\r\n  const [activityCardsList, setActivityCardsList] = useState([]);\r\n  const [filteredData, setFilteredData] = useState([]);\r\n  const [isFiltered, setIsFiltered] = useState(false);\r\n\r\n  useEffect(() => {\r\n    const getActivityCards = async () => {\r\n      const activityCards = await getAll();\r\n\r\n      setActivityCardsList(activityCards.data.tasks);\r\n    };\r\n\r\n    getActivityCards();\r\n  }, []);\r\n  useEffect(() => {\r\n    if (isFiltered) {\r\n      const filteredResults = filteredData.filter(\r\n        (activityCard) => activityCard.user_id === user._id\r\n      );\r\n      setFilteredData(filteredResults);\r\n    } else {\r\n      setActivityCardsList(activityCardsList);\r\n    }\r\n  }, [isFiltered]);\r\n  const [searchValue, setSearchValue] = useState(\"\");\r\n  const toggleFilter = () => {\r\n    setIsFiltered((prevState) => !prevState);\r\n  };\r\n\r\n  const handleInputChange = (event) => {\r\n    setSearchValue(event.target.value);\r\n  };\r\n\r\n  useEffect(() => {\r\n  \r\n    if (searchValue.length) {\r\n      const searchedResult = activityCardsList.filter((activityCard) =>\r\n      activityCard.bizUserName.toLowerCase().includes(searchValue.toLowerCase())  \r\n    );\r\n      setActivityCardsList(searchedResult);\r\n    } else {\r\n      setActivityCardsList(activityCardsList);\r\n    }\r\n  }, [searchValue]);\r\n\r\n  return (\r\n    <>\r\n      <PageHeader title={<h1>my activities cards</h1>} />\r\n      <h2>here you can see all your booked paintball activities</h2>\r\n      <input\r\n        type=\"text\"\r\n        value={searchValue}\r\n        onChange={handleInputChange}\r\n        placeholder=\"Search by name...\"\r\n      />\r\n      <input\r\n        onClick={toggleFilter}\r\n        className=\"form-check-input m-2\"\r\n        type=\"checkbox\"\r\n        value=\"\"\r\n        id=\"flexCheckChecked\"\r\n      />\r\n      <label className=\"form-check-label\" htmlFor=\"flexCheckChecked\">\r\n        show only my activities\r\n      </label>\r\n      <button className=\"btn btn-danger create-btn\">\r\n        <Link\r\n          style={{\r\n            color: \"blue\",\r\n            fontFamily: \"cursive\",\r\n            justifyContent: \"center\",\r\n          }}\r\n          to={\"/cards/create-activity-card\"}\r\n        >\r\n          {\" \"}\r\n          create a card\r\n        </Link>\r\n      </button>\r\n      <div className=\"container\">\r\n        <div className=\"row\">\r\n          {activityCardsList.length ? (\r\n            activityCardsList.map((activityCard) => {\r\n              return (\r\n                <ActivityCardComponent\r\n                  key={activityCard._id}\r\n                  id={activityCard._id}\r\n                  activityName={activityCard.activityName}\r\n                  activityDescription={activityCard.activityDescription}\r\n                  activityAddress={activityCard.activityAddress}\r\n                  activityDate={activityCard.activityDate}\r\n                  phoneNumber={activityCard.phoneNumber}\r\n                  bizUserName={activityCard.bizUserName}\r\n                  activityImage={activityCard.activityImage}\r\n                  activityTime={activityCard.activityTime}\r\n                  isPaid={activityCard.isPaid}\r\n                  inCalendar={activityCard.inCalendar}\r\n                />\r\n              );\r\n            })\r\n          ) : (\r\n            <span className=\"m-5\">loading your cards...</span>\r\n          )}{\" \"}\r\n        </div>\r\n      </div>\r\n    </>\r\n  );\r\n};\r\nexport default MyActivityCards;\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}